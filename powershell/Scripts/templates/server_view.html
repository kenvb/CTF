{% extends "layout.html" %}
{% block title %}Scripts for {{ server }}{% endblock %}
{% block content %}
<h2>Scripts for {{ server }}</h2>
<input class="form-control mb-3" id="scriptFilter" placeholder="Filter scripts...">
<ul class="list-group" id="scriptList">
    {% for script, timestamp in scripts %}
    <li class="list-group-item d-flex justify-content-between align-items-center">
        <a href="{{ url_for('script_view', server=server, script=script) }}">{{ script }}</a>
        {% if timestamp %}
        <span class="badge bg-secondary">{{ timestamp.strftime('%Y-%m-%d %H:%M:%S') }}</span>
        {% endif %}
    </li>
    {% endfor %}
</ul>
<a href="{{ url_for('index') }}" class="btn btn-secondary mt-3">‚Üê Back to servers</a>
<script>
document.getElementById("scriptFilter").addEventListener("input", function() {
    let filter = this.value.toLowerCase();
    let items = document.querySelectorAll("#scriptList li");
    items.forEach(item => {
        item.style.display = item.textContent.toLowerCase().includes(filter) ? "" : "none";
    });
});
</script>
{% endblock %}
